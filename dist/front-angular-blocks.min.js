!function(){"use strict";function t(t,e){return t&&e?!(t.length<e.length):!1}String.prototype.startsWith=function(e){return t(this,e)&&this.substring(0,e.length)===e},String.prototype.endsWith=function(e){return t(this,e)&&this.substring(this.length-e.length)===e},String.prototype.contains=function(e){return t(this,e)&&this.indexOf(e)>=0},String.prototype.joinPath=function(t){var e=this;return""===e?t:(this.endsWith("/")||this.endsWith("\\")||(e+="/"),e+=t.startsWith("/")||t.startsWith("\\")?t.substring(1):t)},String.prototype.getFileSuffix=function(){var t=this;if(void 0===t||0===t.length)return"";var e=t.indexOf(".");return-1===e?"":t.substring(e+1)},String.prototype.getFileName=function(){var t=this;if(void 0===t||0===t.length)return"";var e=t.indexOf(".");return-1===e?"":t.substring(0,e)},String.prototype.base64ToImage=function(t){for(var e=this,n=window.atob(e.split(",")[1]),r=new ArrayBuffer(n.length),o=new Uint8Array(r),i=0;i<n.length;i++)o[i]=n.charCodeAt(i);var u="image/"+t.getFileSuffix,c=new Blob([r],{type:u});return c.name=t,c}}(),function(){"use strict";angular.module("blocks.exception",["blocks.logger"])}(),function(){"use strict";angular.module("blocks.http",["blocks.logger"])}(),function(){"use strict";angular.module("blocks.logger",[])}(),function(){"use strict";angular.module("blocks.routehelper",["blocks.logger","ui.router"])}(),function(){"use strict";angular.module("blocks.user",["blocks.logger"])}(),function(){"use strict";function t(){this.config={appErrorPrefix:"front-"},this.$get=function(){return{config:this.config}}}angular.module("blocks.exception").provider("exceptionHandler",t)}(),function(){"use strict";function t(){this.config={baseUrl:"",urlencodedHeader:{"Content-Type":"application/x-www-form-urlencoded"}},this.$get=function(){return{config:this.config}}}angular.module("blocks.http").provider("httpHandler",t)}(),function(){"use strict";function t(){this.config={status:{Unauthorized:401},erroCode:{nologin:"9999",overtime:"9998"}},this.$get=function(){return{config:this.config}}}angular.module("blocks.user").provider("userHandler",t)}(),function(){"use strict";function t(t,e,n){function r(e,n,r){return t({method:"GET",url:a(e),params:n,headers:r})}function o(e,r,o){return t({method:"POST",url:a(e),data:s(r),headers:angular.extend({},n.config.urlencodedHeader,o)})}function i(e,n,r){return t({method:"DELETE",url:a(e),params:n,headers:r})}function u(e,r,o){return t({method:"PUT",url:a(e),data:s(r),headers:angular.extend({},n.config.urlencodedHeader,o)})}function c(t,e,n,c){switch(t){case"GET":case"get":return r(e,n,c);case"POST":case"post":return o(e,n,c);case"DELETE":case"DEL":case"delete":case"del":return i(e,n,c);case"PUT":case"put":return u(e,n,c);default:throw new Error("there is can not constant methodName "+t)}}function s(t){if(!t)return"";if("string"==typeof t)return t;if("object"==typeof t)return $.param(t);throw new Error("con't constant type "+typeof t)}function a(t){return""===n.config.baseUrl?t:t.startsWith("http://")||t.startsWith("https://")?t:n.config.baseUrl.joinPath(t)}return{get:r,post:o,"delete":i,put:u,call:c}}t.$inject=["$http","logger","httpHandler"],angular.module("blocks.http").factory("http",t)}(),function(){"use strict";function t(t){function e(e,n){t.info("Success: "+e,n)}function n(e,n){t.log("Log: "+e,n)}function r(e,n){t.debug("Debug: "+e,n)}function o(e,n){t.info("Info: "+e,n)}function i(e,n){t.warn("Warning: "+e,n)}function u(e,n){t.error("Error: "+e,n)}return{success:e,log:n,debug:r,info:o,warn:i,error:u}}t.$inject=["$log"],angular.module("blocks.logger").factory("logger",t)}(),function(){"use strict";function t(t,e){function n(){r(),o(),i()}function r(){t.$on("$stateChangeError",function(t,n,r,o){e.error("change state error.",[o,n])})}function o(){t.$on("$stateChangeSuccess",function(t,n){e.success("change state success. state = ",n)})}function i(){t.$on("$stateNotFound",function(t,n){e.warning("state not found. state = ",n.to),e.warning("state not found. params = ",n.toParams)})}return{init:n}}t.$inject=["$rootScope","logger"],angular.module("blocks.routehelper").factory("routehelper",t)}(),function(){"use strict";function t(t){t.decorator("$exceptionHandler",e)}function e(t,e,n){var r=e.config.appErrorPrefix;return function(e,o){t(e,o);var i={exception:e,cause:o};e.message=r+e.message,n.error(e.message,i)}}t.$inject=["$provide"],e.$inject=["$delegate","exceptionHandler","logger"],angular.module("blocks.exception").config(t)}(),function(){"use strict";function t(t,e,n){return{responseError:function(r){switch(r.status){case n.config.status.Unauthorized:switch(r.data.code){case n.config.erroCode.nologin:e.$emit("userUnauthorizedIntercepted","nologin",r.data,r);break;case n.config.erroCode.overtime:e.$emit("userUnauthorizedIntercepted","overtime",r.data,r);break;default:e.$emit("userUnauthorizedIntercepted","unknown",r.data,r)}break;default:e.$emit("userIntercepted",r)}return t.reject(r)}}}t.$inject=["$q","$rootScope","userHandler"],angular.module("blocks.user").factory("userInterceptor",t)}();
//# sourceMappingURL=front-angular-blocks.min.js.map
